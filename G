$libA = "C:\pepperware-2.0-SNAPSHOT\lib"
$libB = "C:\pepperware-2.0-SNAPSHOT\new_lib"

# Get cleaned, lowercase file names
$jarA = Get-ChildItem -Path $libA -Filter *.jar | ForEach-Object { $_.Name.Trim().ToLower() }
$jarB = Get-ChildItem -Path $libB -Filter *.jar | ForEach-Object { $_.Name.Trim().ToLower() }

Write-Host "Total in libA: $($jarA.Count)"
Write-Host "Total in libB: $($jarB.Count)"

# Do actual comparison
$missingInB = $jarA | Where-Object { $jarB -notcontains $_ }

Write-Host "`nMissing jars in libB:"
if ($missingInB.Count -eq 0) {
    Write-Host "None. All jars are present."
} else {
    $missingInB | ForEach-Object { Write-Host "- $_" }
    Write-Host "`nTotal missing: $($missingInB.Count)"
}
